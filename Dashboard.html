<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digi Green Dashboard - Your Eco Impact</title>
    <link rel="stylesheet" href="Dashboard.css">
</head>
<body>
    <div class="bg-animation" id="particles"></div>
    
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                ğŸŒ Digi Green
            </div>
            <ul class="nav-links">
                <li><a href="Home page.html">Home</a></li>
                <li><a href="Dashboard.html" class="active">Dashboard</a></li>
                <li><a href="Community..html">Community</a></li>
                <li><a href="#challenges">Challenges</a></li>
            </ul>
            <div class="user-profile">
                <div class="user-avatar">US</div>
                <span>User</span>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="dashboard-header">
            <h1>Your Digi Green Dashboard</h1>
            <p>Track your personal environmental impact and discover ways to improve your digi green journey</p>
        </div>

       

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-content">
                    <span class="stat-icon">â™»ï¸</span>
                    <div class="stat-number">85</div>
                    <div class="stat-label">kg Plastic Saved</div>
                    <div class="stat-progress">
                        <div class="stat-progress-fill" style="width: 85%"></div>
                    </div>
                    <div class="stat-change">+12% from last month</div>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-content">
                    <span class="stat-icon">ğŸ”Œ</span>
                    <div class="stat-number">12</div>
                    <div class="stat-label">E-waste Items Recycled</div>
                    <div class="stat-progress">
                        <div class="stat-progress-fill" style="width: 60%"></div>
                    </div>
                    <div class="stat-change">+3 items this month</div>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-content">
                    <span class="stat-icon">ğŸŒ³</span>
                    <div class="stat-number">20</div>
                    <div class="stat-label">Trees Planted</div>
                    <div class="stat-progress">
                        <div class="stat-progress-fill" style="width: 100%"></div>
                    </div>
                    <div class="stat-change">Goal achieved! ğŸ‰</div>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-content">
                    <span class="stat-icon">ğŸš°</span>
                    <div class="stat-number">3,500</div>
                    <div class="stat-label">Litres Water Saved</div>
                    <div class="stat-progress">
                        <div class="stat-progress-fill" style="width: 70%"></div>
                    </div>
                    <div class="stat-change">+8% from last month</div>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-content">
                    <span class="stat-icon">ğŸŒ</span>
                    <div class="stat-number">1.2</div>
                    <div class="stat-label">Tons COâ‚‚ Reduced</div>
                    <div class="stat-progress">
                        <div class="stat-progress-fill" style="width: 80%"></div>
                    </div>
                    <div class="stat-change">Great progress!</div>
                </div>
            </div>
        </div>

        <div class="recommendations">
            <h3>ğŸ¯ Personalized Recommendations</h3>
            <div class="recommendation-item">
                <div class="recommendation-icon">ğŸ’¡</div>
                <div class="recommendation-text">
                    <div class="recommendation-title">Try the Plastic-Free Challenge</div>
                    <div class="recommendation-desc">Based on your plastic usage, you could save 15kg more this month</div>
                </div>
            </div>
            <div class="recommendation-item">
                <div class="recommendation-icon">ğŸ”‹</div>
                <div class="recommendation-text">
                    <div class="recommendation-title">Schedule E-waste Pickup</div>
                    <div class="recommendation-desc">You have 3 old devices that could be recycled safely</div>
                </div>
            </div>
            <div class="recommendation-item">
                <div class="recommendation-icon">ğŸŒ±</div>
                <div class="recommendation-text">
                    <div class="recommendation-title">Join Tree Planting Drive</div>
                    <div class="recommendation-desc">There's a community event near you this weekend</div>
                </div>
            </div>
        </div>

        <div class="actions-section">
            <h2 class="section-title">Quick Actions</h2>
            <div class="actions-grid">
                <div class="action-card">
                    <span class="action-icon">ğŸ“Š</span>
                    <h3>Log Plastic Use</h3>
                    <p>Track your daily plastic consumption and get personalized tips to reduce it</p>
                    <button class="action-btn">Log Usage</button>
                </div>

                <div class="action-card">
                    <span class="action-icon">ğŸ“…</span>
                    <h3>Schedule E-Waste Pickup</h3>
                    <p>Book a convenient pickup time for your old electronics and gadgets</p>
                    <button class="action-btn">Schedule Pickup</button>
                </div>

                <div class="action-card">
                    <span class="action-icon">ğŸŒ³</span>
                    <h3>Donate to Plant Trees</h3>
                    <p>Support reforestation efforts and get updates on your planted trees</p>
                    <button class="action-btn">Plant Trees</button>
                </div>

                <div class="action-card">
                    <span class="action-icon">ğŸ†</span>
                    <h3>Start Water Challenge</h3>
                    <p>Join the community water-saving challenge and compete with others</p>
                    <button class="action-btn">Join Challenge</button>
                </div>

                <div class="action-card">
                    <span class="action-icon">ğŸ”¢</span>
                    <h3>Calculate Carbon Footprint</h3>
                    <p>Get a detailed analysis of your carbon emissions and reduction tips</p>
                    <button class="action-btn">Calculate Now</button>
                </div>
            </div>
        </div>

        <div class="charts-section">
            <div class="chart-card">
                <h3 class="chart-title">Environmental Impact Over Time</h3>
                <canvas id="impactChart" width="400" height="200"></canvas>
            </div>
            <div class="chart-card">
                <h3 class="chart-title">Impact Distribution</h3>
                <canvas id="impactPie" width="400" height="200"></canvas>
            </div>
        </div>

        <div class="achievements-section">
            <h2 class="section-title">Your Achievements</h2>
            <div class="achievements-grid">
                <div class="achievement-badge earned">
                    <div class="badge-icon">ğŸ…</div>
                    <div class="badge-title">Plastic Warrior</div>
                    <div class="badge-description">Saved 50kg of plastic</div>
                </div>
                <div class="achievement-badge earned">
                    <div class="badge-icon">ğŸŒ³</div>
                    <div class="badge-title">Tree Planter</div>
                    <div class="badge-description">Planted 20 trees</div>
                </div>
                <div class="achievement-badge">
                    <div class="badge-icon">ğŸ’§</div>
                    <div class="badge-title">Water Saver</div>
                    <div class="badge-description">Conserved 5000 litres of water</div>
                </div>
                <div class="achievement-badge">
                    <div class="badge-icon">ğŸŒ</div>
                    <div class="badge-title">Carbon Reducer</div>
                    <div class="badge-description">Reduced COâ‚‚ emissions by 1 ton</div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        const ctx = document.getElementById('impactChart').getContext('2d');
        const impactChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
                datasets: [{
                    label: 'Plastic Saved (kg)',
                    data: [10, 25, 40, 55, 70, 85, 100],
                    borderColor: '#00cc6a',
                    backgroundColor: 'rgba(0,204,106,0.1)',
                    fill: true,
                    tension: 0.3,
                    pointBackgroundColor: '#00cc6a'
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { display: true }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: { display: true, text: 'Plastic Saved (kg)' }
                    },
                    x: {
                        title: { display: true, text: 'Month' }
                    }
                }
            }
        });

        // Impact Distribution Pie Chart
        const pieCtx = document.getElementById('impactPie').getContext('2d');
        const impactPie = new Chart(pieCtx, {
            type: 'pie',
            data: {
                labels: ['Plastic Saved', 'E-waste Recycled', 'Trees Planted', 'Water Saved', 'COâ‚‚ Reduced'],
                datasets: [{
                    data: [85, 12, 20, 3500, 1.2],
                    backgroundColor: [
                        '#00cc6a',
                        '#0099ff',
                        '#33cc33',
                        '#00e6e6',
                        '#ffcc00'
                    ],
                    borderWidth: 2,
                    borderColor: '#fff'
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { position: 'bottom' },
                    title: {
                        display: false
                    }
                }
            }
        });

        // Log Plastic Use button
document.querySelectorAll('.action-card .action-btn')[0].addEventListener('click', function() {
    window.location.href = 'log plastic use.html';
});

// Schedule E-Waste Pickup button
document.querySelectorAll('.action-card .action-btn')[1].addEventListener('click', function() {
    window.location.href = 'schedule e-waste pickup.html';
});

// Donate to Plant Trees button
document.querySelectorAll('.action-card .action-btn')[2].addEventListener('click', function() {
    window.location.href = 'donate to plant trees.html';
});

// Start Water Challenge button
document.querySelectorAll('.action-card .action-btn')[3].addEventListener('click', function() {
    window.location.href = 'start water challenge.html';
});

// Calculate Carbon Footprint button
document.querySelectorAll('.action-card .action-btn')[4].addEventListener('click', function() {
    window.location.href = 'calculate carbon footprint.html';
});

// Fetch and display username
fetch('http://localhost:3000/api/user', { credentials: 'include' })
  .then(res => res.json())
  .then(data => {
    if (data.loggedIn) {
      document.getElementById('user-name').textContent = data.username;
    }
  });
    </script>
</body>
</html>